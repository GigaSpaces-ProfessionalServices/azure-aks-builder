apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  # name must match the spec fields below, and be in the form: <plural>.<group>
  name: pus.gigaspaces.com
spec:
  # group name to use for REST API: /apis/<group>/<version>
  group: gigaspaces.com
  # either Namespaced or Cluster
  scope: Namespaced
  names:
    # plural name to be used in the URL: /apis/<group>/<version>/<plural>
    plural: pus
    # singular name to be used as an alias on the CLI and for display
    singular: pu
    # kind is normally the CamelCased singular type. Your resource manifests use this.
    kind: ProcessingUnit
    # shortNames allow shorter string to match your resource on the CLI
    shortNames:
      - pu
  versions:
    - name: v1
      # Each version can be enabled/disabled by Served flag.
      served: true
      # One and only one version must be marked as the storage version.
      storage: true
      schema:
        openAPIV3Schema:
          type: object
          properties:
            status:
              type: object
              properties:
                deploymentStatus:
                  type: string
                gsRequestId:
                  type: string
                previousStatus:
                  type: string
                previousGeneration:
                  type: integer
                lastChangeEpochMillis:
                  type: integer
            spec:
              type: object
              properties:
                productType:
                  type: string
                  default: "xap"
                license:
                  type: string
                  default: "tryme"
                partitions:
                  type: integer
                  nullable: true
                  default: null
                instances:
                  type: integer
                  nullable: true
                  default: null
                ha:
                  type: boolean
                  nullable: true
                drain:
                  type: object
                  nullable: true
                  properties:
                    mode:
                      type: string
                      nullable: true
                      default: "none"
                    timeout:
                      type: string
                      nullable: true
                antiAffinity:
                  type: boolean
                  nullable: true
                  default: false
                properties:
                  nullable: true
                  type: array
                  items:
                    type: object
                    required:
                      - name
                    properties:
                      name:
                        type: string
                      value:
                        type: string
                        nullable: true
                propertiesFrom:
                  nullable: true
                  type: array
                  items:
                    type: object
                    properties:
                      configMapRef:
                        type: object
                        nullable: true
                        required:
                          - name
                        properties:
                          name:
                            type: string
                          optional:
                            type: boolean
                            default: true
                      secretRef:
                        type: object
                        nullable: true
                        required:
                          - name
                        properties:
                          name:
                            type: string
                          optional:
                            type: boolean
                            default: true
                env:
                  nullable: true
                  type: array
                  items:
                    type: object
                    required:
                      - name
                    properties:
                      name:
                        type: string
                      value:
                        type: string
                        nullable: true
                      valueFrom:
                        type: object
                        nullable: true
                        properties:
                          configMapKeyRef:
                            type: object
                            nullable: true
                            properties:
                              key:
                                type: string
                              name:
                                type: string
                              optional:
                                type: boolean
                                default: true
                          secretKeyRef:
                            type: object
                            nullable: true
                            properties:
                              key:
                                type: string
                              name:
                                type: string
                              optional:
                                type: boolean
                                default: true
                envFrom:
                  nullable: true
                  type: array
                  items:
                    type: object
                    properties:
                      configMapRef:
                        type: object
                        nullable: true
                        required:
                          - name
                        properties:
                          name:
                            type: string
                          optional:
                            type: boolean
                            default: true
                      secretRef:
                        type: object
                        nullable: true
                        required:
                          - name
                        properties:
                          name:
                            type: string
                          optional:
                            type: boolean
                            default: true
                resourceUrl:
                  type: string
                  nullable: true
                javaHeap:
                  type: string
                  default: "limit-150Mi"
                javaOptions:
                  type: string
                  nullable: true
                multiCast:
                  type: boolean
                  default: false
                readinessProbe:
                  type: object
                  nullable: true
                  properties:
                    exec:
                      properties:
                        command:
                          items:
                            default: ''
                            type: string
                          type: array
                      type: object
                    failureThreshold:
                      format: int32
                      type: integer
                      default: 3
                    grpc:
                      properties:
                        port:
                          default: 0
                          format: int32
                          type: integer
                        service:
                          default: ''
                          type: string
                      required:
                        - port
                      type: object
                    httpGet:
                      properties:
                        host:
                          type: string
                        httpHeaders:
                          items:
                            properties:
                              name:
                                default: ''
                                type: string
                              value:
                                default: ''
                                type: string
                            required:
                              - name
                              - value
                            type: object
                            nullable: true
                          type: array
                        path:
                          type: string
                        port:
                          x-kubernetes-int-or-string: true
                          anyOf:
                            - type: integer
                            - type: string
                          nullable: true
                        scheme:
                          enum:
                            - HTTP
                            - HTTPS
                          type: string
                      required:
                        - port
                      type: object
                    initialDelaySeconds:
                      format: int32
                      type: integer
                      default: 10
                    periodSeconds:
                      format: int32
                      type: integer
                      default: 5
                    successThreshold:
                      format: int32
                      type: integer
                    tcpSocket:
                      properties:
                        host:
                          type: string
                        port:
                          x-kubernetes-int-or-string: true
                          anyOf:
                            - type: integer
                            - type: string
                          nullable: true
                      required:
                        - port
                      type: object
                    terminationGracePeriodSeconds:
                      format: int64
                      type: integer
                    timeoutSeconds:
                      format: int32
                      type: integer
                livenessProbe:
                  type: object
                  nullable: true
                  properties:
                    exec:
                      properties:
                        command:
                          items:
                            default: ''
                            type: string
                          type: array
                      type: object
                    failureThreshold:
                      format: int32
                      type: integer
                      default: 3
                    grpc:
                      properties:
                        port:
                          default: 0
                          format: int32
                          type: integer
                        service:
                          default: ''
                          type: string
                      required:
                        - port
                      type: object
                    httpGet:
                      properties:
                        host:
                          type: string
                        httpHeaders:
                          items:
                            properties:
                              name:
                                default: ''
                                type: string
                              value:
                                default: ''
                                type: string
                            required:
                              - name
                              - value
                            type: object
                            nullable: true
                          type: array
                        path:
                          type: string
                        port:
                          x-kubernetes-int-or-string: true
                          anyOf:
                            - type: integer
                            - type: string
                          nullable: true
                        scheme:
                          enum:
                            - HTTP
                            - HTTPS
                          type: string
                      required:
                        - port
                      type: object
                    initialDelaySeconds:
                      format: int32
                      type: integer
                      default: 90
                    periodSeconds:
                      format: int32
                      type: integer
                      default: 5
                    successThreshold:
                      format: int32
                      type: integer
                    tcpSocket:
                      properties:
                        host:
                          type: string
                        port:
                          x-kubernetes-int-or-string: true
                          anyOf:
                            - type: integer
                            - type: string
                          nullable: true
                      required:
                        - port
                      type: object
                    terminationGracePeriodSeconds:
                      format: int64
                      type: integer
                    timeoutSeconds:
                      format: int32
                      type: integer
                nodeSelector:
                  type: object
                  nullable: true
                  properties:
                    enabled:
                      type: boolean
                      default: false
                    selector:
                      type: string
                      nullable: true
                volumeMounts:
                  items:
                    properties:
                      mountPath:
                        default: ''
                        type: string
                      mountPropagation:
                        type: string
                      name:
                        default: ''
                        type: string
                      readOnly:
                        type: boolean
                      subPath:
                        type: string
                      subPathExpr:
                        type: string
                    required:
                      - name
                      - mountPath
                    type: object
                    nullable: true
                  type: array
                  nullable: true
                persistence:
                  type: object
                  nullable: true
                  properties:
                    enabled:
                      type: boolean
                      default: true
                    storageClassName:
                      type: string
                    accessMode:
                      enum:
                        - ReadWriteOnce
                        - ReadOnlyMany
                        - ReadWriteMany
                        - ReadWriteOncePod
                      type: string
                      default: ReadWriteOnce
                    size:
                      type: string
                      default: 10Gi
                image:
                  type: object
                  nullable: true
                  required:
                    - tag
                  properties:
                    repository:
                      type: string
                      nullable: true # if not set, default value is set by operator to insightedge or xap repo.
                    tag:
                      type: string
                    pullPolicy:
                      type: string
                      nullable: true
                imagePullSecrets:
                  type: array
                  nullable: true
                  items:
                    type: object
                    required:
                      - name
                    properties:
                      name:
                        type: string
                resources:
                  type: object
                  nullable: true
                  properties:
                    limits:
                      type: object
                      nullable: true
                      properties:
                        cpu:
                          type: string
                          nullable: true
                        memory:
                          type: string
                          nullable: true
                    requests:
                      type: object
                      nullable: true
                      properties:
                        cpu:
                          type: string
                          nullable: true
                        memory:
                          type: string
                          nullable: true
                securityService:
                  type: object
                  nullable: true
                  required:
                    - accessToken
                  properties:
                    accessToken:
                      type: string
                      nullable: false
                manager:
                  type: object
                  nullable: true
                  properties:
                    name:
                      type: string
                      nullable: true
                    ports:
                      type: object
                      nullable: true
                      properties:
                        api:
                          type: integer
                          default: 8090
                    discoveryTimeoutSeconds:
                      type: integer
                      default: 60
                statefulSetExtension:
                  type: object
                  nullable: true
                  properties:
                    spec:
                      x-kubernetes-preserve-unknown-fields: true
                      type: object
                      nullable: true
                      properties:
                        template:
                          x-kubernetes-preserve-unknown-fields: true
                          type: object
                          nullable: false
                          properties:
                            metadata:
                              type: object
                              nullable: true
                              properties:
                                labels:
                                  nullable: true
                                  type: object
                                  additionalProperties:
                                    type: string
                                    x-kubernetes-preserve-unknown-fields: true
                                annotations:
                                  nullable: true
                                  type: object
                                  additionalProperties:
                                    type: string
                                    x-kubernetes-preserve-unknown-fields: true
                                finalizers:
                                  items:
                                    type: string
                                  type: array
                            spec:
                              x-kubernetes-preserve-unknown-fields: true
                              type: object
                              nullable: false
                              properties:
                                containers:
                                  items:
                                    properties:
                                      args:
                                        items:
                                          type: string
                                        type: array
                                      command:
                                        items:
                                          type: string
                                        type: array
                                      env:
                                        items:
                                          properties:
                                            name:
                                              type: string
                                            value:
                                              type: string
                                          required:
                                            - name
                                          type: object
                                          nullable: true
                                        type: array
                                        nullable: true
                                        x-kubernetes-patch-merge-key: name
                                        x-kubernetes-patch-strategy: merge
                                      envFrom:
                                        items:
                                          properties:
                                            configMapRef:
                                              properties:
                                                name:
                                                  type: string
                                                optional:
                                                  type: boolean
                                              type: object
                                            prefix:
                                              type: string
                                            secretRef:
                                              properties:
                                                name:
                                                  type: string
                                                optional:
                                                  type: boolean
                                              type: object
                                          type: object
                                        type: array
                                      image:
                                        type: string
                                      imagePullPolicy:
                                        enum:
                                          - Always
                                          - IfNotPresent
                                          - Never
                                        type: string
                                      lifecycle:
                                        properties:
                                          postStart:
                                            properties:
                                              exec:
                                                properties:
                                                  command:
                                                    items:
                                                      default: ''
                                                      type: string
                                                    type: array
                                                type: object
                                              httpGet:
                                                properties:
                                                  host:
                                                    type: string
                                                  httpHeaders:
                                                    items:
                                                      properties:
                                                        name:
                                                          default: ''
                                                          type: string
                                                        value:
                                                          default: ''
                                                          type: string
                                                      required:
                                                        - name
                                                        - value
                                                      type: object
                                                      nullable: true
                                                    type: array
                                                  path:
                                                    type: string
                                                  port:
                                                    type: integer
                                                    nullable: true
                                                  scheme:
                                                    enum:
                                                      - HTTP
                                                      - HTTPS
                                                    type: string
                                                required:
                                                  - port
                                                type: object
                                              tcpSocket:
                                                properties:
                                                  host:
                                                    type: string
                                                  port:
                                                    x-kubernetes-int-or-string: true
                                                    anyOf:
                                                      - type: integer
                                                      - type: string
                                                    nullable: true
                                                required:
                                                  - port
                                                type: object
                                            type: object
                                          preStop:
                                            properties:
                                              exec:
                                                properties:
                                                  command:
                                                    items:
                                                      default: ''
                                                      type: string
                                                    type: array
                                                type: object
                                              httpGet:
                                                properties:
                                                  host:
                                                    type: string
                                                  httpHeaders:
                                                    items:
                                                      properties:
                                                        name:
                                                          default: ''
                                                          type: string
                                                        value:
                                                          default: ''
                                                          type: string
                                                      required:
                                                        - name
                                                        - value
                                                      type: object
                                                      nullable: true
                                                    type: array
                                                  path:
                                                    type: string
                                                  port:
                                                    type: integer
                                                    nullable: true
                                                  scheme:
                                                    enum:
                                                      - HTTP
                                                      - HTTPS
                                                    type: string
                                                required:
                                                  - port
                                                type: object
                                              tcpSocket:
                                                properties:
                                                  host:
                                                    type: string
                                                  port:
                                                    x-kubernetes-int-or-string: true
                                                    anyOf:
                                                      - type: integer
                                                      - type: string
                                                    nullable: true
                                                required:
                                                  - port
                                                type: object
                                            type: object
                                        type: object
                                      livenessProbe:
                                        properties:
                                          exec:
                                            properties:
                                              command:
                                                items:
                                                  default: ''
                                                  type: string
                                                type: array
                                            type: object
                                          failureThreshold:
                                            format: int32
                                            type: integer
                                          grpc:
                                            properties:
                                              port:
                                                default: 0
                                                format: int32
                                                type: integer
                                              service:
                                                default: ''
                                                type: string
                                            required:
                                              - port
                                            type: object
                                          httpGet:
                                            properties:
                                              host:
                                                type: string
                                              httpHeaders:
                                                items:
                                                  properties:
                                                    name:
                                                      default: ''
                                                      type: string
                                                    value:
                                                      default: ''
                                                      type: string
                                                  required:
                                                    - name
                                                    - value
                                                  type: object
                                                  nullable: true
                                                type: array
                                              path:
                                                type: string
                                              port:
                                                type: integer
                                                nullable: true
                                              scheme:
                                                enum:
                                                  - HTTP
                                                  - HTTPS
                                                type: string
                                            required:
                                              - port
                                            type: object
                                          initialDelaySeconds:
                                            format: int32
                                            type: integer
                                          periodSeconds:
                                            format: int32
                                            type: integer
                                          successThreshold:
                                            format: int32
                                            type: integer
                                          tcpSocket:
                                            properties:
                                              host:
                                                type: string
                                              port:
                                                x-kubernetes-int-or-string: true
                                                anyOf:
                                                  - type: integer
                                                  - type: string
                                                nullable: true
                                            required:
                                              - port
                                            type: object
                                          terminationGracePeriodSeconds:
                                            format: int64
                                            type: integer
                                          timeoutSeconds:
                                            format: int32
                                            type: integer
                                        type: object
                                        nullable: true
                                      name:
                                        default: ''
                                        type: string
                                      ports:
                                        items:
                                          properties:
                                            containerPort:
                                              default: 0
                                              format: int32
                                              type: integer
                                            hostIP:
                                              type: string
                                            hostPort:
                                              format: int32
                                              type: integer
                                            name:
                                              type: string
                                            protocol:
                                              default: TCP
                                              enum:
                                                - SCTP
                                                - TCP
                                                - UDP
                                              type: string
                                          required:
                                            - containerPort
                                          type: object
                                        type: array
                                        x-kubernetes-list-map-keys:
                                          - containerPort
                                          - protocol
                                        x-kubernetes-list-type: map
                                        x-kubernetes-patch-merge-key: containerPort
                                        x-kubernetes-patch-strategy: merge
                                      readinessProbe:
                                        properties:
                                          exec:
                                            properties:
                                              command:
                                                items:
                                                  default: ''
                                                  type: string
                                                type: array
                                            type: object
                                          failureThreshold:
                                            format: int32
                                            type: integer
                                          grpc:
                                            properties:
                                              port:
                                                default: 0
                                                format: int32
                                                type: integer
                                              service:
                                                default: ''
                                                type: string
                                            required:
                                              - port
                                            type: object
                                          httpGet:
                                            properties:
                                              host:
                                                type: string
                                              httpHeaders:
                                                items:
                                                  properties:
                                                    name:
                                                      default: ''
                                                      type: string
                                                    value:
                                                      default: ''
                                                      type: string
                                                  required:
                                                    - name
                                                    - value
                                                  type: object
                                                  nullable: true
                                                type: array
                                              path:
                                                type: string
                                              port:
                                                type: integer
                                                nullable: true
                                              scheme:
                                                enum:
                                                  - HTTP
                                                  - HTTPS
                                                type: string
                                            required:
                                              - port
                                            type: object
                                          initialDelaySeconds:
                                            format: int32
                                            type: integer
                                          periodSeconds:
                                            format: int32
                                            type: integer
                                          successThreshold:
                                            format: int32
                                            type: integer
                                          tcpSocket:
                                            properties:
                                              host:
                                                type: string
                                              port:
                                                x-kubernetes-int-or-string: true
                                                anyOf:
                                                  - type: integer
                                                  - type: string
                                                nullable: true
                                            required:
                                              - port
                                            type: object
                                          terminationGracePeriodSeconds:
                                            format: int64
                                            type: integer
                                          timeoutSeconds:
                                            format: int32
                                            type: integer
                                        type: object
                                        nullable: true
                                      resources:
                                        properties:
                                          limits:
                                            additionalProperties:
                                              type: string
                                              nullable: true
                                            type: object
                                          requests:
                                            additionalProperties:
                                              type: string
                                              nullable: true
                                            type: object
                                        type: object
                                        nullable: true
                                      securityContext:
                                        properties:
                                          allowPrivilegeEscalation:
                                            type: boolean
                                          capabilities:
                                            properties:
                                              add:
                                                items:
                                                  default: ''
                                                  type: string
                                                type: array
                                              drop:
                                                items:
                                                  default: ''
                                                  type: string
                                                type: array
                                            type: object
                                          privileged:
                                            type: boolean
                                          procMount:
                                            type: string
                                          readOnlyRootFilesystem:
                                            type: boolean
                                          runAsGroup:
                                            format: int64
                                            type: integer
                                          runAsNonRoot:
                                            type: boolean
                                          runAsUser:
                                            format: int64
                                            type: integer
                                          seLinuxOptions:
                                            properties:
                                              level:
                                                type: string
                                              role:
                                                type: string
                                              type:
                                                type: string
                                              user:
                                                type: string
                                            type: object
                                          seccompProfile:
                                            properties:
                                              localhostProfile:
                                                type: string
                                              type:
                                                default: Unconfined
                                                enum:
                                                  - Localhost
                                                  - RuntimeDefault
                                                  - Unconfined
                                                type: string
                                            required:
                                              - type
                                            type: object
                                            x-kubernetes-unions:
                                              - discriminator: type
                                                fields-to-discriminateBy:
                                                  localhostProfile: LocalhostProfile
                                          windowsOptions:
                                            properties:
                                              gmsaCredentialSpec:
                                                type: string
                                              gmsaCredentialSpecName:
                                                type: string
                                              hostProcess:
                                                type: boolean
                                              runAsUserName:
                                                type: string
                                            type: object
                                        nullable: true
                                        type: object
                                      startupProbe:
                                        properties:
                                          exec:
                                            properties:
                                              command:
                                                items:
                                                  default: ''
                                                  type: string
                                                type: array
                                            type: object
                                          failureThreshold:
                                            format: int32
                                            type: integer
                                          grpc:
                                            properties:
                                              port:
                                                default: 0
                                                format: int32
                                                type: integer
                                              service:
                                                default: ''
                                                type: string
                                            required:
                                              - port
                                            type: object
                                          httpGet:
                                            properties:
                                              host:
                                                type: string
                                              httpHeaders:
                                                items:
                                                  properties:
                                                    name:
                                                      default: ''
                                                      type: string
                                                    value:
                                                      default: ''
                                                      type: string
                                                  required:
                                                    - name
                                                    - value
                                                  type: object
                                                  nullable: true
                                                type: array
                                              path:
                                                type: string
                                              port:
                                                type: integer
                                                nullable: true
                                              scheme:
                                                enum:
                                                  - HTTP
                                                  - HTTPS
                                                type: string
                                            required:
                                              - port
                                            type: object
                                          initialDelaySeconds:
                                            format: int32
                                            type: integer
                                          periodSeconds:
                                            format: int32
                                            type: integer
                                          successThreshold:
                                            format: int32
                                            type: integer
                                          tcpSocket:
                                            properties:
                                              host:
                                                type: string
                                              port:
                                                x-kubernetes-int-or-string: true
                                                anyOf:
                                                  - type: integer
                                                  - type: string
                                                nullable: true
                                            required:
                                              - port
                                            type: object
                                          terminationGracePeriodSeconds:
                                            format: int64
                                            type: integer
                                          timeoutSeconds:
                                            format: int32
                                            type: integer
                                        type: object
                                        nullable: true
                                      stdin:
                                        type: boolean
                                      stdinOnce:
                                        type: boolean
                                      terminationMessagePath:
                                        type: string
                                      terminationMessagePolicy:
                                        enum:
                                          - FallbackToLogsOnError
                                          - File
                                        type: string
                                      tty:
                                        type: boolean
                                      volumeDevices:
                                        items:
                                          properties:
                                            devicePath:
                                              default: ''
                                              type: string
                                            name:
                                              default: ''
                                              type: string
                                          required:
                                            - name
                                            - devicePath
                                          type: object
                                          nullable: true
                                        type: array
                                        nullable: true
                                        x-kubernetes-patch-merge-key: devicePath
                                        x-kubernetes-patch-strategy: merge
                                      volumeMounts:
                                        items:
                                          properties:
                                            mountPath:
                                              default: ''
                                              type: string
                                            mountPropagation:
                                              type: string
                                            name:
                                              default: ''
                                              type: string
                                            readOnly:
                                              type: boolean
                                            subPath:
                                              type: string
                                            subPathExpr:
                                              type: string
                                          required:
                                            - name
                                            - mountPath
                                          type: object
                                          nullable: true
                                        type: array
                                        nullable: true
                                        x-kubernetes-patch-merge-key: mountPath
                                        x-kubernetes-patch-strategy: merge
                                      workingDir:
                                        type: string
                                    required:
                                      - name
                                    type: object
                                  type: array
                                initContainers:
                                  items:
                                    properties:
                                      args:
                                        items:
                                          type: string
                                        type: array
                                      command:
                                        items:
                                          type: string
                                        type: array
                                      env:
                                        items:
                                          properties:
                                            name:
                                              type: string
                                            value:
                                              type: string
                                          required:
                                            - name
                                          type: object
                                          nullable: true
                                        type: array
                                        nullable: true
                                        x-kubernetes-patch-merge-key: name
                                        x-kubernetes-patch-strategy: merge
                                      envFrom:
                                        items:
                                          properties:
                                            configMapRef:
                                              properties:
                                                name:
                                                  type: string
                                                optional:
                                                  type: boolean
                                              type: object
                                            prefix:
                                              type: string
                                            secretRef:
                                              properties:
                                                name:
                                                  type: string
                                                optional:
                                                  type: boolean
                                              type: object
                                          type: object
                                        type: array
                                      image:
                                        type: string
                                      imagePullPolicy:
                                        enum:
                                          - Always
                                          - IfNotPresent
                                          - Never
                                        type: string
                                      lifecycle:
                                        properties:
                                          postStart:
                                            properties:
                                              exec:
                                                properties:
                                                  command:
                                                    items:
                                                      default: ''
                                                      type: string
                                                    type: array
                                                type: object
                                              httpGet:
                                                properties:
                                                  host:
                                                    type: string
                                                  httpHeaders:
                                                    items:
                                                      properties:
                                                        name:
                                                          default: ''
                                                          type: string
                                                        value:
                                                          default: ''
                                                          type: string
                                                      required:
                                                        - name
                                                        - value
                                                      type: object
                                                      nullable: true
                                                    type: array
                                                  path:
                                                    type: string
                                                  port:
                                                    type: integer
                                                    nullable: true
                                                  scheme:
                                                    enum:
                                                      - HTTP
                                                      - HTTPS
                                                    type: string
                                                required:
                                                  - port
                                                type: object
                                              tcpSocket:
                                                properties:
                                                  host:
                                                    type: string
                                                  port:
                                                    format: int-or-string
                                                    type: string
                                                    nullable: true
                                                required:
                                                  - port
                                                type: object
                                            type: object
                                          preStop:
                                            properties:
                                              exec:
                                                properties:
                                                  command:
                                                    items:
                                                      default: ''
                                                      type: string
                                                    type: array
                                                type: object
                                              httpGet:
                                                properties:
                                                  host:
                                                    type: string
                                                  httpHeaders:
                                                    items:
                                                      properties:
                                                        name:
                                                          default: ''
                                                          type: string
                                                        value:
                                                          default: ''
                                                          type: string
                                                      required:
                                                        - name
                                                        - value
                                                      type: object
                                                      nullable: true
                                                    type: array
                                                  path:
                                                    type: string
                                                  port:
                                                    type: integer
                                                    nullable: true
                                                  scheme:
                                                    enum:
                                                      - HTTP
                                                      - HTTPS
                                                    type: string
                                                required:
                                                  - port
                                                type: object
                                              tcpSocket:
                                                properties:
                                                  host:
                                                    type: string
                                                  port:
                                                    format: int-or-string
                                                    type: string
                                                    nullable: true
                                                required:
                                                  - port
                                                type: object
                                            type: object
                                        type: object
                                      livenessProbe:
                                        properties:
                                          exec:
                                            properties:
                                              command:
                                                items:
                                                  default: ''
                                                  type: string
                                                type: array
                                            type: object
                                          failureThreshold:
                                            format: int32
                                            type: integer
                                          grpc:
                                            properties:
                                              port:
                                                default: 0
                                                format: int32
                                                type: integer
                                              service:
                                                default: ''
                                                type: string
                                            required:
                                              - port
                                            type: object
                                          httpGet:
                                            properties:
                                              host:
                                                type: string
                                              httpHeaders:
                                                items:
                                                  properties:
                                                    name:
                                                      default: ''
                                                      type: string
                                                    value:
                                                      default: ''
                                                      type: string
                                                  required:
                                                    - name
                                                    - value
                                                  type: object
                                                  nullable: true
                                                type: array
                                              path:
                                                type: string
                                              port:
                                                type: integer
                                                nullable: true
                                              scheme:
                                                enum:
                                                  - HTTP
                                                  - HTTPS
                                                type: string
                                            required:
                                              - port
                                            type: object
                                          initialDelaySeconds:
                                            format: int32
                                            type: integer
                                          periodSeconds:
                                            format: int32
                                            type: integer
                                          successThreshold:
                                            format: int32
                                            type: integer
                                          tcpSocket:
                                            properties:
                                              host:
                                                type: string
                                              port:
                                                format: int-or-string
                                                type: string
                                                nullable: true
                                            required:
                                              - port
                                            type: object
                                          terminationGracePeriodSeconds:
                                            format: int64
                                            type: integer
                                          timeoutSeconds:
                                            format: int32
                                            type: integer
                                        type: object
                                        nullable: true
                                      name:
                                        default: ''
                                        type: string
                                      ports:
                                        items:
                                          properties:
                                            containerPort:
                                              default: 0
                                              format: int32
                                              type: integer
                                            hostIP:
                                              type: string
                                            hostPort:
                                              format: int32
                                              type: integer
                                            name:
                                              type: string
                                            protocol:
                                              default: TCP
                                              enum:
                                                - SCTP
                                                - TCP
                                                - UDP
                                              type: string
                                          required:
                                            - containerPort
                                          type: object
                                        type: array
                                        x-kubernetes-list-map-keys:
                                          - containerPort
                                          - protocol
                                        x-kubernetes-list-type: map
                                        x-kubernetes-patch-merge-key: containerPort
                                        x-kubernetes-patch-strategy: merge
                                      readinessProbe:
                                        properties:
                                          exec:
                                            properties:
                                              command:
                                                items:
                                                  default: ''
                                                  type: string
                                                type: array
                                            type: object
                                          failureThreshold:
                                            format: int32
                                            type: integer
                                          grpc:
                                            properties:
                                              port:
                                                default: 0
                                                format: int32
                                                type: integer
                                              service:
                                                default: ''
                                                type: string
                                            required:
                                              - port
                                            type: object
                                          httpGet:
                                            properties:
                                              host:
                                                type: string
                                              httpHeaders:
                                                items:
                                                  properties:
                                                    name:
                                                      default: ''
                                                      type: string
                                                    value:
                                                      default: ''
                                                      type: string
                                                  required:
                                                    - name
                                                    - value
                                                  type: object
                                                  nullable: true
                                                type: array
                                              path:
                                                type: string
                                              port:
                                                type: integer
                                                nullable: true
                                              scheme:
                                                enum:
                                                  - HTTP
                                                  - HTTPS
                                                type: string
                                            required:
                                              - port
                                            type: object
                                          initialDelaySeconds:
                                            format: int32
                                            type: integer
                                          periodSeconds:
                                            format: int32
                                            type: integer
                                          successThreshold:
                                            format: int32
                                            type: integer
                                          tcpSocket:
                                            properties:
                                              host:
                                                type: string
                                              port:
                                                format: int-or-string
                                                type: string
                                                nullable: true
                                            required:
                                              - port
                                            type: object
                                          terminationGracePeriodSeconds:
                                            format: int64
                                            type: integer
                                          timeoutSeconds:
                                            format: int32
                                            type: integer
                                        type: object
                                        nullable: true
                                      resources:
                                        properties:
                                          limits:
                                            additionalProperties:
                                              type: string
                                              nullable: true
                                            type: object
                                          requests:
                                            additionalProperties:
                                              type: string
                                              nullable: true
                                            type: object
                                        type: object
                                        nullable: true
                                      securityContext:
                                        properties:
                                          allowPrivilegeEscalation:
                                            type: boolean
                                          capabilities:
                                            properties:
                                              add:
                                                items:
                                                  default: ''
                                                  type: string
                                                type: array
                                              drop:
                                                items:
                                                  default: ''
                                                  type: string
                                                type: array
                                            type: object
                                          privileged:
                                            type: boolean
                                          procMount:
                                            type: string
                                          readOnlyRootFilesystem:
                                            type: boolean
                                          runAsGroup:
                                            format: int64
                                            type: integer
                                          runAsNonRoot:
                                            type: boolean
                                          runAsUser:
                                            format: int64
                                            type: integer
                                          seLinuxOptions:
                                            properties:
                                              level:
                                                type: string
                                              role:
                                                type: string
                                              type:
                                                type: string
                                              user:
                                                type: string
                                            type: object
                                          seccompProfile:
                                            properties:
                                              localhostProfile:
                                                type: string
                                              type:
                                                default: Unconfined
                                                enum:
                                                  - Localhost
                                                  - RuntimeDefault
                                                  - Unconfined
                                                type: string
                                            required:
                                              - type
                                            type: object
                                            x-kubernetes-unions:
                                              - discriminator: type
                                                fields-to-discriminateBy:
                                                  localhostProfile: LocalhostProfile
                                          windowsOptions:
                                            properties:
                                              gmsaCredentialSpec:
                                                type: string
                                              gmsaCredentialSpecName:
                                                type: string
                                              hostProcess:
                                                type: boolean
                                              runAsUserName:
                                                type: string
                                            type: object
                                        nullable: true
                                        type: object
                                      startupProbe:
                                        properties:
                                          exec:
                                            properties:
                                              command:
                                                items:
                                                  default: ''
                                                  type: string
                                                type: array
                                            type: object
                                          failureThreshold:
                                            format: int32
                                            type: integer
                                          grpc:
                                            properties:
                                              port:
                                                default: 0
                                                format: int32
                                                type: integer
                                              service:
                                                default: ''
                                                type: string
                                            required:
                                              - port
                                            type: object
                                          httpGet:
                                            properties:
                                              host:
                                                type: string
                                              httpHeaders:
                                                items:
                                                  properties:
                                                    name:
                                                      default: ''
                                                      type: string
                                                    value:
                                                      default: ''
                                                      type: string
                                                  required:
                                                    - name
                                                    - value
                                                  type: object
                                                  nullable: true
                                                type: array
                                              path:
                                                type: string
                                              port:
                                                type: integer
                                                nullable: true
                                              scheme:
                                                enum:
                                                  - HTTP
                                                  - HTTPS
                                                type: string
                                            required:
                                              - port
                                            type: object
                                          initialDelaySeconds:
                                            format: int32
                                            type: integer
                                          periodSeconds:
                                            format: int32
                                            type: integer
                                          successThreshold:
                                            format: int32
                                            type: integer
                                          tcpSocket:
                                            properties:
                                              host:
                                                type: string
                                              port:
                                                format: int-or-string
                                                type: string
                                                nullable: true
                                            required:
                                              - port
                                            type: object
                                          terminationGracePeriodSeconds:
                                            format: int64
                                            type: integer
                                          timeoutSeconds:
                                            format: int32
                                            type: integer
                                        type: object
                                        nullable: true
                                      stdin:
                                        type: boolean
                                      stdinOnce:
                                        type: boolean
                                      terminationMessagePath:
                                        type: string
                                      terminationMessagePolicy:
                                        enum:
                                          - FallbackToLogsOnError
                                          - File
                                        type: string
                                      tty:
                                        type: boolean
                                      volumeDevices:
                                        items:
                                          properties:
                                            devicePath:
                                              default: ''
                                              type: string
                                            name:
                                              default: ''
                                              type: string
                                          required:
                                            - name
                                            - devicePath
                                          type: object
                                          nullable: true
                                        type: array
                                        nullable: true
                                        x-kubernetes-patch-merge-key: devicePath
                                        x-kubernetes-patch-strategy: merge
                                      volumeMounts:
                                        items:
                                          properties:
                                            mountPath:
                                              default: ''
                                              type: string
                                            mountPropagation:
                                              type: string
                                            name:
                                              default: ''
                                              type: string
                                            readOnly:
                                              type: boolean
                                            subPath:
                                              type: string
                                            subPathExpr:
                                              type: string
                                          required:
                                            - name
                                            - mountPath
                                          type: object
                                          nullable: true
                                        type: array
                                        nullable: true
                                        x-kubernetes-patch-merge-key: mountPath
                                        x-kubernetes-patch-strategy: merge
                                      workingDir:
                                        type: string
                                    required:
                                      - name
                                    type: object
                                  type: array
                                securityContext:
                                  properties:
                                    fsGroup:
                                      format: int64
                                      type: integer
                                    fsGroupChangePolicy:
                                      type: string
                                    runAsGroup:
                                      format: int64
                                      type: integer
                                    runAsNonRoot:
                                      type: boolean
                                    runAsUser:
                                      format: int64
                                      type: integer
                                    seLinuxOptions:
                                      properties:
                                        level:
                                          type: string
                                        role:
                                          type: string
                                        type:
                                          type: string
                                        user:
                                          type: string
                                      type: object
                                    seccompProfile:
                                      properties:
                                        localhostProfile:
                                          type: string
                                        type:
                                          default: Unconfined
                                          enum:
                                            - Localhost
                                            - RuntimeDefault
                                            - Unconfined
                                          type: string
                                      required:
                                        - type
                                      type: object
                                    supplementalGroups:
                                      items:
                                        format: int64
                                        type: integer
                                      type: array
                                    sysctls:
                                      items:
                                        properties:
                                          name:
                                            type: string
                                          value:
                                            type: string
                                        required:
                                          - name
                                        type: object
                                        nullable: true
                                      type: array
                                    windowsOptions:
                                      properties:
                                        gmsaCredentialSpec:
                                          type: string
                                        gmsaCredentialSpecName:
                                          type: string
                                        runAsUserName:
                                          type: string
                                      type: object
                                  nullable: true
                                  type: object
                                volumes:
                                  items:
                                    properties:
                                      awsElasticBlockStore:
                                        properties:
                                          volumeID:
                                            type: string
                                          fsType:
                                            type: string
                                          partition:
                                            format: int32
                                            type: integer
                                          readOnly:
                                            type: boolean
                                        required:
                                          - volumeID
                                        type: object
                                      azureDisk:
                                        properties:
                                          diskName:
                                            type: string
                                          diskURI:
                                            type: string
                                          cachingMode:
                                            type: string
                                          fsType:
                                            type: string
                                          kind:
                                            default: Shared
                                            enum:
                                              - Shared
                                              - Dedicated
                                              - Managed
                                            type: string
                                          readOnly:
                                            default: false
                                            type: boolean
                                        required:
                                          - diskName
                                          - diskURI
                                        type: object
                                      azureFile:
                                        properties:
                                          secretName:
                                            type: string
                                          shareName:
                                            type: string
                                          readOnly:
                                            default: false
                                            type: boolean
                                        required:
                                          - secretName
                                          - shareName
                                        type: object
                                      cephfs:
                                        properties:
                                          monitors:
                                            items:
                                              type: string
                                            type: array
                                          path:
                                            type: string
                                          readOnly:
                                            default: false
                                            type: boolean
                                          secretFile:
                                            type: string
                                          secretRef:
                                            properties:
                                              name:
                                                type: string
                                            type: object
                                          user:
                                            type: string
                                        required:
                                          - monitors
                                        type: object
                                      cinder:
                                        properties:
                                          fsType:
                                            type: string
                                          readOnly:
                                            default: false
                                            type: boolean
                                          secretRef:
                                            properties:
                                              name:
                                                type: string
                                            type: object
                                          volumeID:
                                            type: string
                                        required:
                                          - volumeID
                                        type: object
                                      configMap:
                                        properties:
                                          name:
                                            type: string
                                          optional:
                                            type: boolean
                                          defaultMode:
                                            format: int32
                                            type: integer
                                          items:
                                            items:
                                              properties:
                                                key:
                                                  type: string
                                                path:
                                                  type: string
                                                mode:
                                                  format: int32
                                                  type: integer
                                              required:
                                                - key
                                                - path
                                              type: object
                                            type: array
                                        type: object
                                      csi:
                                        properties:
                                          driver:
                                            type: string
                                          fsType:
                                            type: string
                                          nodePublishSecretRef:
                                            properties:
                                              name:
                                                type: string
                                            type: object
                                          readOnly:
                                            default: false
                                            type: boolean
                                          volumeAttributes:
                                            nullable: true
                                            additionalProperties:
                                              type: string
                                              x-kubernetes-preserve-unknown-fields: true
                                            type: object
                                        required:
                                          - driver
                                        type: object
                                      downwardAPI:
                                        properties:
                                          defaultMode:
                                            format: int32
                                            type: integer
                                          items:
                                            items:
                                              properties:
                                                path:
                                                  type: string
                                                fieldRef:
                                                  properties:
                                                    apiVersion:
                                                      type: string
                                                    fieldPath:
                                                      type: string
                                                  required:
                                                    - fieldPath
                                                  type: object
                                                mode:
                                                  format: int32
                                                  type: integer
                                                resourceFieldRef:
                                                  properties:
                                                    resource:
                                                      type: string
                                                    containerName:
                                                      type: string
                                                    divisor:
                                                      type: string
                                                  required:
                                                    - resource
                                                  type: object
                                              required:
                                                - path
                                              type: object
                                            type: array
                                        type: object
                                      emptyDir:
                                        properties:
                                          medium:
                                            type: string
                                          sizeLimit:
                                            type: string
                                        type: object
                                      ephemeral:
                                        properties:
                                          volumeClaimTemplate:
                                            properties:
                                              metadata:
                                                properties:
                                                  labels:
                                                    nullable: true
                                                    type: object
                                                    additionalProperties:
                                                      type: string
                                                      x-kubernetes-preserve-unknown-fields: true
                                                  annotations:
                                                    nullable: true
                                                    type: object
                                                    additionalProperties:
                                                      type: string
                                                      x-kubernetes-preserve-unknown-fields: true
                                                type: object
                                              spec:
                                                properties:
                                                  accessModes:
                                                    items:
                                                      type: string
                                                    type: array
                                                  selector:
                                                    properties:
                                                      matchExpressions:
                                                        items:
                                                          properties:
                                                            key:
                                                              type: string
                                                            operator:
                                                              type: string
                                                            values:
                                                              items:
                                                                type: string
                                                              type: array
                                                          required:
                                                            - key
                                                            - operator
                                                          type: object
                                                        type: array
                                                      matchLabels:
                                                        nullable: true
                                                        type: object
                                                        additionalProperties:
                                                          type: string
                                                          x-kubernetes-preserve-unknown-fields: true
                                                    type: object
                                                  resources:
                                                    properties:
                                                      limits:
                                                        additionalProperties:
                                                          type: string
                                                          nullable: true
                                                        type: object
                                                      requests:
                                                        additionalProperties:
                                                          type: string
                                                          nullable: true
                                                        type: object
                                                    type: object
                                                  volumeName:
                                                    type: string
                                                  storageClassName:
                                                    type: string
                                                  volumeMode:
                                                    type: string
                                                  dataSource:
                                                    properties:
                                                      kind:
                                                        type: string
                                                      name:
                                                        type: string
                                                      apiGroup:
                                                        type: string
                                                    required:
                                                      - kind
                                                      - name
                                                    type: object
                                                type: object
                                            type: object
                                        required:
                                          - volumeClaimTemplate
                                        type: object
                                      fc:
                                        properties:
                                          fsType:
                                            type: string
                                          lun:
                                            format: int32
                                            type: integer
                                          readOnly:
                                            default: false
                                            type: boolean
                                          targetWWNs:
                                            items:
                                              type: string
                                            type: array
                                          wwids:
                                            items:
                                              type: string
                                            type: array
                                        type: object
                                      flexVolume:
                                        properties:
                                          driver:
                                            type: string
                                          fsType:
                                            type: string
                                          options:
                                            nullable: true
                                            type: object
                                            additionalProperties:
                                              type: string
                                              x-kubernetes-preserve-unknown-fields: true
                                          readOnly:
                                            default: false
                                            type: boolean
                                          secretRef:
                                            properties:
                                              name:
                                                type: string
                                            type: object
                                        required:
                                          - driver
                                        type: object
                                      flocker:
                                        properties:
                                          datasetName:
                                            type: string
                                          datasetUUID:
                                            type: string
                                        type: object
                                      gcePersistentDisk:
                                        properties:
                                          pdName:
                                            type: string
                                          fsType:
                                            type: string
                                          partition:
                                            format: int32
                                            type: integer
                                          readOnly:
                                            default: false
                                            type: boolean
                                        required:
                                          - pdName
                                        type: object
                                      gitRepo:
                                        properties:
                                          repository:
                                            type: string
                                          directory:
                                            type: string
                                          revision:
                                            type: string
                                        required:
                                          - repository
                                        type: object
                                      glusterfs:
                                        properties:
                                          endpoints:
                                            type: string
                                          path:
                                            type: string
                                          readOnly:
                                            default: false
                                            type: boolean
                                        required:
                                          - endpoints
                                          - path
                                        type: object
                                      hostPath:
                                        properties:
                                          path:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - path
                                        type: object
                                      iscsi:
                                        properties:
                                          iqn:
                                            type: string
                                          lun:
                                            format: int32
                                            type: integer
                                          targetPortal:
                                            type: string
                                          chapAuthDiscovery:
                                            type: boolean
                                          chapAuthSession:
                                            type: boolean
                                          fsType:
                                            type: string
                                          initiatorName:
                                            type: string
                                          iscsiInterface:
                                            type: string
                                          portals:
                                            items:
                                              type: string
                                            type: array
                                          readOnly:
                                            default: false
                                            type: boolean
                                          secretRef:
                                            properties:
                                              name:
                                                type: string
                                            type: object
                                        required:
                                          - iqn
                                          - lun
                                          - targetPortal
                                        type: object
                                      name:
                                        type: string
                                      nfs:
                                        properties:
                                          path:
                                            type: string
                                          server:
                                            type: string
                                          readOnly:
                                            default: false
                                            type: boolean
                                        required:
                                          - path
                                          - server
                                        type: object
                                      persistentVolumeClaim:
                                        properties:
                                          claimName:
                                            type: string
                                          readOnly:
                                            default: false
                                            type: boolean
                                        required:
                                          - claimName
                                        type: object
                                      photonPersistentDisk:
                                        properties:
                                          pdID:
                                            type: string
                                          fsType:
                                            type: string
                                        required:
                                          - pdID
                                        type: object
                                      portworxVolume:
                                        properties:
                                          volumeID:
                                            type: string
                                          fsType:
                                            type: string
                                          readOnly:
                                            default: false
                                            type: boolean
                                        required:
                                          - volumeID
                                        type: object
                                      projected:
                                        properties:
                                          defaultMode:
                                            format: int32
                                            type: integer
                                          sources:
                                            items:
                                              properties:
                                                configMap:
                                                  properties:
                                                    name:
                                                      type: string
                                                    optional:
                                                      type: boolean
                                                    items:
                                                      items:
                                                        properties:
                                                          key:
                                                            type: string
                                                          path:
                                                            type: string
                                                          mode:
                                                            format: int32
                                                            type: integer
                                                        required:
                                                          - key
                                                          - path
                                                        type: object
                                                      type: array
                                                  type: object
                                                downwardAPI:
                                                  properties:
                                                    items:
                                                      items:
                                                        properties:
                                                          path:
                                                            type: string
                                                          fieldRef:
                                                            properties:
                                                              apiVersion:
                                                                type: string
                                                              fieldPath:
                                                                type: string
                                                            required:
                                                              - fieldPath
                                                            type: object
                                                          mode:
                                                            format: int32
                                                            type: integer
                                                          resourceFieldRef:
                                                            properties:
                                                              resource:
                                                                type: string
                                                              containerName:
                                                                type: string
                                                              divisor:
                                                                type: string
                                                            required:
                                                              - resource
                                                            type: object
                                                        required:
                                                          - path
                                                        type: object
                                                      type: array
                                                  type: object
                                                secret:
                                                  properties:
                                                    name:
                                                      type: string
                                                    optional:
                                                      type: boolean
                                                    items:
                                                      items:
                                                        properties:
                                                          key:
                                                            type: string
                                                          path:
                                                            type: string
                                                          mode:
                                                            format: int32
                                                            type: integer
                                                        required:
                                                          - key
                                                          - path
                                                        type: object
                                                      type: array
                                                  type: object
                                                serviceAccountToken:
                                                  properties:
                                                    audience:
                                                      type: string
                                                    expirationSeconds:
                                                      format: int64
                                                      type: integer
                                                    path:
                                                      type: string
                                                  required:
                                                    - path
                                                  type: object
                                              type: object
                                            type: array
                                        type: object
                                      quobyte:
                                        properties:
                                          registry:
                                            type: string
                                          volume:
                                            type: string
                                          group:
                                            type: string
                                          readOnly:
                                            default: false
                                            type: boolean
                                          tenant:
                                            type: string
                                          user:
                                            type: string
                                        required:
                                          - registry
                                          - volume
                                        type: object
                                      rbd:
                                        properties:
                                          image:
                                            type: string
                                          monitors:
                                            items:
                                              type: string
                                            type: array
                                          fsType:
                                            type: string
                                          keyring:
                                            type: string
                                          pool:
                                            type: string
                                          readOnly:
                                            default: false
                                            type: boolean
                                          secretRef:
                                            properties:
                                              name:
                                                type: string
                                            type: object
                                          user:
                                            type: string
                                        required:
                                          - image
                                          - monitors
                                        type: object
                                      scaleIO:
                                        properties:
                                          gateway:
                                            type: string
                                          secretRef:
                                            properties:
                                              name:
                                                type: string
                                            type: object
                                          system:
                                            type: string
                                          fsType:
                                            type: string
                                          protectionDomain:
                                            type: string
                                          readOnly:
                                            default: false
                                            type: boolean
                                          sslEnabled:
                                            default: false
                                            type: boolean
                                          storageMode:
                                            type: string
                                          storagePool:
                                            type: string
                                          volumeName:
                                            type: string
                                        required:
                                          - gateway
                                          - secretRef
                                          - system
                                        type: object
                                      secret:
                                        properties:
                                          secretName:
                                            type: string
                                          optional:
                                            type: boolean
                                          defaultMode:
                                            format: int32
                                            type: integer
                                          items:
                                            items:
                                              properties:
                                                key:
                                                  type: string
                                                path:
                                                  type: string
                                                mode:
                                                  format: int32
                                                  type: integer
                                              required:
                                                - key
                                                - path
                                              type: object
                                            type: array
                                        type: object
                                      storageos:
                                        properties:
                                          fsType:
                                            type: string
                                          readOnly:
                                            default: false
                                            type: boolean
                                          secretRef:
                                            properties:
                                              name:
                                                type: string
                                            type: object
                                          volumeName:
                                            type: string
                                          volumeNamespace:
                                            type: string
                                        type: object
                                      vsphereVolume:
                                        properties:
                                          volumePath:
                                            type: string
                                          fsType:
                                            type: string
                                          storagePolicyID:
                                            type: string
                                          storagePolicyName:
                                            type: string
                                        required:
                                          - volumePath
                                        type: object
                                    required:
                                      - name
                                    type: object
                                  type: array
                                serviceAccountName:
                                  nullable: true
                                  type: string
      # subresources describes the subresources for custom resources.
      subresources:
        # status enables the status subresource.
        status: {}
      additionalPrinterColumns:
      - name: Status
        type: string
        description: The Processing Unit deployment status
        jsonPath: .status.deploymentStatus
